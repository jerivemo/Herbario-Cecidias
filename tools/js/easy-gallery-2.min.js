/**
 * Easy Gallery for jQuery
 * Create your web gallery with easy layout and easy configuration.
 * @url http://www.freelancer-id.com/easy-gallery/
 * @version 2.0
 * CopyRight: GNU General Public License v2
 * 
 * Developed by: Alaa Badran
 * http://www.freelancer-id.com/
 * Email alaa@freelancer-id.com
 *
 */
$.fn.egallery=function(options){var settings={animation:'scroll',width:400,height:400,speed:500,delay:4000,easing:'swing',thumbs:'none',thumbClass:'',thumbImage:'',aClass:'',auto:true};settings=$.extend(settings,options);var sgObj=$(this);var anim=false;var licount=0;var ap=null;var aind=0;function _css(){$(sgObj).css({'overflow':'hidden','width':settings.width+'px','height':settings.height+'px','position':'relative'});$(sgObj).find("ul").css({'list-style':'none','position':'absolute','top':0,'left':0,'width':(settings.width*$(sgObj).find("li").length)+'px','height':settings.height+'px'});$(sgObj).find("li").css({"float":"left",'width':settings.width+'px'})}function _createThumbsNumbers(){var n_all=$(sgObj).find("li").length;if(settings.animation=="slide");--n_all;var htm='<ul>';for(i=0;i<n_all;i++){htm+='<li class="'+settings.thumbClass+'">'+(i+1)+'</'+'li>'}htm+='</'+'ul>';return htm}function _createThumbsImage(){var htm='<ul>';var n_all=$(sgObj).find("li").length;if(settings.animation=="slide");--n_all;for(i=0;i<n_all;i++){htm+='<li class="'+settings.thumbClass+'" style="background:url(\''+settings.thumbImage+'\') center 0 no-repeat;"></'+'li>'}htm+='</'+'ul>';return htm}function _thumbs(th){if($("#ssgThumbs").length<1){return false}var animated=false;switch(th){case"numbers":$("#ssgThumbs").html(_createThumbsNumbers());break;case"image":$("#ssgThumbs").html(_createThumbsImage());break;case"custom":break;default:return false;break}$("#ssgThumbs li").click(function(){_cthumbs($("#ssgThumbs li").index(this),true)});$("#ssgThumbs li").eq(0).addClass(settings.aClass)}function _cthumbs(ind,c){if(anim==false){clearInterval(ap);anim=true;if(settings.thumbs!="none"){$("#ssgThumbs li").removeClass(settings.aClass);if(ind>=licount)lind=0;else lind=ind;$("#ssgThumbs li").eq(lind).addClass(settings.aClass);$(sgObj).find('ul').animate({'left':-(ind*settings.width)+'px'},settings.speed,settings.easing,function(){anim=false;if(c==true){aind=ind}if(settings.auto==true){ap=setInterval(function(){_autoplay()},settings.delay)}})}else{$(sgObj).find('ul').animate({'left':-(ind*settings.width)+'px'},settings.speed,settings.easing,function(){anim=false;if(settings.auto==true){ap=setInterval(function(){_autoplay()},settings.delay)}})}}}function _prepareGallery(){var first_item=$(sgObj).find("li").eq(0).html();licount=$(sgObj).find("li").length;$(sgObj).find("ul").eq(0).append("<li>"+first_item+"</li>")}function _prepare(){_thumbs(settings.thumbs)}function _run(){ap=setInterval(function(){_autoplay()},settings.delay)}function _autoplay(){aind++;if(aind>licount){if(settings.animation=="slide"){$(sgObj).find("ul").css("left",0);aind=1;_cthumbs(aind,false);return false}else{aind=0}}_cthumbs(aind,false)}function _init(){if(settings.animation=="slide")_prepareGallery();_css();_prepare();if(settings.auto==true){_run()}}return _init()};